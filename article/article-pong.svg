<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="634px" preserveAspectRatio="none" style="width:685px;height:634px;background:#FFFFFF;" version="1.1" viewBox="0 0 685 634" width="685px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="218" x="226.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="208" x="231.5" y="22.9951">Ping Server State Machine</text><!--MD5=[0f5afef98de99d3a6de16f0f78283b30]
cluster StateMachineRunner--><g id="cluster_StateMachineRunner"><path d="M19.5,191.2969 L525.5,191.2969 A12.5,12.5 0 0 1 538,203.7969 L538,217.5938 L7,217.5938 L7,203.7969 A12.5,12.5 0 0 1 19.5,191.2969 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="254" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="531" x="7" y="191.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="538" y1="217.5938" y2="217.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="200" y="209.292">StateMachineRunner</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="120.5" y="169.9951">start</text><ellipse cx="136" cy="191.2969" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="385.5" y="169.9951">incoming</text><ellipse cx="417" cy="191.2969" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><g id="StateMachineRunner.ListeningForPing"><rect fill="#F1F1F1" height="52.5938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="23.5" y="301.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="248.5" y1="327.5938" y2="327.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="79" y="319.292">ListeningForPing</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="28.5" y="345.5889">received_ping: Option&lt;Ping&gt;</text></g><g id="StateMachineRunner.SendingPong"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="209" x="312.5" y="293.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="312.5" x2="521.5" y1="319.5938" y2="319.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="370.5" y="311.292">SendingPong</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="317.5" y="337.5889">received_ping: Ping</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="317.5" y="353.8857">sent_pong: Option&lt;Pong&gt;</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="337" y="464.292">outgoing</text><ellipse cx="368" cy="445.2969" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="372.3891" x2="364.6109" y1="449.686" y2="441.9078"/><line style="stroke:#181818;stroke-width:1.5;" x1="372.3891" x2="364.6109" y1="441.9078" y2="449.686"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="437.5" y="464.292">terminal</text><ellipse cx="465" cy="445.2969" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="469.3891" x2="461.6109" y1="449.686" y2="441.9078"/><line style="stroke:#181818;stroke-width:1.5;" x1="469.3891" x2="461.6109" y1="441.9078" y2="449.686"/><ellipse cx="136" cy="69.2969" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><ellipse cx="491" cy="603.2969" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="491.5" cy="603.7969" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="consumer"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="372" y="44.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="372" x2="462" y1="70.5938" y2="70.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="382" y="62.292">consumer</text></g><g id="producer"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="301.5" y="578.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="301.5" x2="384.5" y1="604.5938" y2="604.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="311.5" y="596.292">producer</text></g><g id="elem_GMN23"><path d="M546,171.2969 L546,187.2969 L423.09,191.2969 L546,195.2969 L546,211.5625 A0,0 0 0 0 546,211.5625 L678,211.5625 A0,0 0 0 0 678,211.5625 L678,181.2969 L668,171.2969 L546,171.2969 A0,0 0 0 0 546,171.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M668,171.2969 L668,181.2969 L678,181.2969 L668,171.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="552" y="188.3638">receive</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="61" x="602" y="188.3638">PongSent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="552" y="203.4966">from</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="67" x="586" y="203.4966">producer</text></g><!--MD5=[e4038ce18da83e904fda2f35330a7295]
link start to ListeningForPing--><g id="link_start_ListeningForPing"><path d="M136,197.4069 C136,213.3469 136,263.0769 136,296.0369 " fill="none" id="start-to-ListeningForPing" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="136,301.1769,140,292.1769,136,296.1769,132,292.1769,136,301.1769" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c3da51ce7a948579c5b8e0d7e0e6b2ed]
link incoming to ListeningForPing--><g id="link_incoming_ListeningForPing"><path d="M411.88,194.7469 C385.93,207.1669 267.28,263.9569 194.29,298.8969 " fill="none" id="incoming-to-ListeningForPing" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#181818" points="189.55,301.1669,199.3951,300.8956,194.0614,299.0111,195.9459,293.6774,189.55,301.1669" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="310" y="254.3638">Ping</text></g><!--MD5=[c35828683380d87c5a228ba4c423353e]
link incoming to SendingPong--><g id="link_incoming_SendingPong"><path d="M417,197.4069 C417,212.1169 417,255.6069 417,288.1369 " fill="none" id="incoming-to-SendingPong" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#181818" points="417,293.2569,421,284.2569,417,288.2569,413,284.2569,417,293.2569" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="418" y="254.3638">PongSent</text></g><!--MD5=[2c0168fea2936e30711a57728b1c0836]
link ListeningForPing to SendingPong--><g id="link_ListeningForPing_SendingPong"><path d="M248.67,327.7969 C267.93,327.7969 287.92,327.7969 307.11,327.7969 " fill="none" id="ListeningForPing-to-SendingPong" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="312.5,327.7969,303.5,323.7969,307.5,327.7969,303.5,331.7969,312.5,327.7969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="267" y="320.8638">Ping</text></g><!--MD5=[0ac59f5192faacdad96235bbd73035b8]
link SendingPong to outgoing--><g id="link_SendingPong_outgoing"><path d="M402.7,362.5169 C392.24,387.1569 378.77,418.9169 372.11,434.6169 " fill="none" id="SendingPong-to-outgoing" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#181818" points="370.12,439.2969,377.3167,432.5733,372.0724,434.6938,369.9518,429.4495,370.12,439.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="390" y="405.3638">Pong</text></g><!--MD5=[4ee6cbdb47f3b5e4a0c535d8a1bdff0c]
link SendingPong to terminal--><g id="link_SendingPong_terminal"><path d="M431.01,362.5169 C441.26,387.1569 454.45,418.9169 460.98,434.6169 " fill="none" id="SendingPong-to-terminal" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="462.92,439.2969,463.1659,429.4511,461.004,434.6785,455.7766,432.5166,462.92,439.2969" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[dd85dc063561b54f5230c9b8c6f8ed31]
link *start to start--><g id="link_*start_start"><path d="M136,79.3169 C136,101.2269 136,157.1269 136,180.1569 " fill="none" id="*start-to-start" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="136,185.2569,140,176.2569,136,180.2569,132,176.2569,136,185.2569" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8923de9e81a79b46e2426870fdd5ec11]
link terminal to *end--><g id="link_terminal_*end"><path d="M465.87,451.4869 C469.43,472.8769 483.06,554.6369 488.62,587.9969 " fill="none" id="terminal-to-*end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="489.5,593.2769,491.9525,583.7383,488.6711,588.3461,484.0633,585.0646,489.5,593.2769" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9fc4cd08d2652f88e665f6a8dbfacba8]
link consumer to incoming--><g id="link_consumer_incoming"><path d="M417,94.5769 C417,120.6469 417,160.8569 417,179.7769 " fill="none" id="consumer-to-incoming" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#181818" points="417,184.9269,421,175.9269,417,179.9269,413,175.9269,417,184.9269" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="418" y="137.3638">Ping</text></g><!--MD5=[50ac86da0313fef5d1955c88b48ebd5e]
link outgoing to producer--><g id="link_outgoing_producer"><path d="M363.73,449.8369 C357.13,455.6169 344.74,467.7869 340,481.2969 C329.55,511.0969 332.4,547.6169 336.54,572.6969 " fill="none" id="outgoing-to-producer" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,3.0;"/><polygon fill="#181818" points="337.44,577.8669,339.8388,568.3146,336.5833,572.9408,331.9571,569.6853,337.44,577.8669" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="386.5" y="494.3638">Pong</text><path d="M345,503.4297 L345,543.4297 L460,543.4297 L460,513.4297 L450,503.4297 L345,503.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M450,503.4297 L450,513.4297 L460,513.4297 L450,503.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="351" y="520.4966">emit</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="61" x="384" y="520.4966">PongSent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13" x="351" y="535.6294">to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="67" x="368" y="535.6294">incoming</text></g><!--MD5=[c2e5f7867ec689e0f9b1b7e2b6276b6b]
@startuml
title Ping Server State Machine
state StateMachineRunner {
        state start <<entryPoint>>
        state incoming <<entryPoint>>
        start - -> ListeningForPing
        ListeningForPing : received_ping: Option<Ping>
        incoming -[dotted]-> ListeningForPing: Ping
        incoming -[dotted]-> SendingPong: PongSent
        SendingPong : received_ping: Ping
        SendingPong : sent_pong: Option<Pong>
        ListeningForPing -> SendingPong: Ping
        SendingPong -[dotted]-> outgoing <<exitPoint>>: Pong
        SendingPong - -> terminal <<exitPoint>>
}
[*] - -> start
terminal - -> [*]
consumer -[dotted]-> incoming: Ping
outgoing -[dotted]-> producer: Pong
note on link
        emit //PongSent//
        to **incoming**
end note
note right of incoming
        receive //PongSent//
        from **producer**
end note
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>